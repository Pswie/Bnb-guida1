<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carosello Ispirato a Lonely Planet</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="logo">BnB Langellotti</a>
            <span class="hamburger-icon" onclick="toggleMenu()">&#9776;</span>
            <div class="dropdown-menu">
                <a href="ristoranti.html">Ristoranti consigliati</a>
                <a href="cosa-visitare.html">Cosa Visitare</a>
                <a href="servizi.html">Servizi</a>
            </div>
        </div>
        <div class="menu">
            <a href="ristoranti.html" class="menu-item">Ristoranti consigliati</a>
            <a href="cosa-visitare.html" class="menu-item">Cosa Visitare</a>
            <a href="servizi.html" class="menu-item">Servizi</a>
        </div>
        <div class="carousel">
            <div class="slide" data-bg="images/Pompei1.jpg"></div>
            <div class="slide" data-bg="images/Pompei2.webp"></div>
            <div class="slide" data-bg="images/Pompei3.jpg"></div>
            <div class="slide" data-bg="images/Pompei4.jpg"></div>
            <div class="slide" data-bg="images/Pompei5.jpg"></div>
        </div>
        <div class="image-selector">
            <div class="slider-track">
                <button class="selector-button" data-slide="0"></button>
                <button class="selector-button" data-slide="1"></button>
                <button class="selector-button" data-slide="2"></button>
                <button class="selector-button" data-slide="3"></button>
                <button class="selector-button" data-slide="4"></button>
                <div class="slider-indicator"></div>
            </div>
        </div>
    </div>
    <!-- Script per gestire l'apertura e la chiusura del menu a tendina -->
    <script>
        function toggleMenu() {
            const dropdown = document.querySelector('.dropdown-menu');
            if (dropdown.style.display === 'block') {
                dropdown.style.display = 'none';
            } else {
                dropdown.style.display = 'block';
            }
        }
    </script>
    <!-- Script per il lazy loading -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let lazyImages = [].slice.call(document.querySelectorAll(".slide"));
            let active = false;

            const lazyLoad = function() {
                if (active === false) {
                    active = true;

                    setTimeout(function() {
                        lazyImages.forEach(function(lazyImage) {
                            if ((lazyImage.getBoundingClientRect().top <= window.innerHeight && lazyImage.getBoundingClientRect().bottom >= 0) && getComputedStyle(lazyImage).display !== "none") {
                                lazyImage.style.backgroundImage = "url('" + lazyImage.dataset.bg + "')";
                                lazyImage.removeAttribute("data-bg");

                                lazyImages = lazyImages.filter(function(image) {
                                    return image !== lazyImage;
                                });

                                if (lazyImages.length === 0) {
                                    document.removeEventListener("scroll", lazyLoad);
                                    window.removeEventListener("resize", lazyLoad);
                                    window.removeEventListener("orientationchange", lazyLoad);
                                }
                            }
                        });

                        active = false;
                    }, 200);
                }
            };

            document.addEventListener("scroll", lazyLoad);
            window.addEventListener("resize", lazyLoad);
            window.addEventListener("orientationchange", lazyLoad);
        });
    </script>
</body>
</html>





